<!DOCTYPE html>
<html><head><meta name="GCD" content="YTk3ODQ3ZWZhN2I4NzZmMzBkNTEwYjJl4f6a50638f8f049cf404afdb5ea7a2a5"/>
  <meta charset="utf-8">
  <title>Index</title>
  <meta name="generator" content="Google Web Designer 5.0.3.0130">
  <style type="text/css" id="gwd-text-style">p {
    margin: 0px;
}
h1 {
    margin: 0px;
}
h2 {
    margin: 0px;
}
h3 {
    margin: 0px;
}</style>
  <style type="text/css">html,
body {
    width: 100%;
    height: 100%;
    margin: 0px;
}
body {
    background-color: transparent;
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    -moz-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    perspective: 1400px;
    -webkit-perspective: 1400px;
    -moz-perspective: 1400px;
    transform-style: preserve-3d;
    -webkit-transform-style: preserve-3d;
    -moz-transform-style: preserve-3d;
}
.gwd-p-1do4 {
    height: auto;
    left: 0px;
    position: relative;
    top: 0px;
    width: auto;
    background-image: none;
    background-color: transparent;
}
.gwd-p-izlo {
    height: auto;
    left: 0px;
    position: relative;
    top: 0px;
    width: auto;
}
.gwd-button-39lq {
    color: red;
    float: right;
    width: 80px;
    height: 40px;
    left: 20px;
}
.gwd-button-11u5 {
    width: 80px;
    left: 0px;
    height: 30px;
    top: 20px;
}
.gwd-button-k5iy {
    width: 80px;
    height: 30px;
    left: -3px;
    top: 20px;
}
.gwd-button-cx08 {
    width: 80px;
    left: 0px;
    height: 30px;
    top: 6px;
}
.gwd-button-it82 {
    width: 80px;
    height: 30px;
    top: 5px;
    left: 0px;
}
.gwd-div-1w7a {
    position: absolute;
    top: 0%;
    left: 0%;
    width: 100%;
    height: 8%;
}
.menu {
    margin: auto;
    top: 0%;
    width: 320px;
    height: 30px;
}
.gwd-div-2qgl {
    position: absolute;
    margin: auto;
    text-align: center;
    overflow: auto;
    top: 8%;
    height: 750px;
    width: 100%;
}
.about {
    text-align: left;
    position: relative;
    margin: auto;
    width: 1200px;
}
.cent {
    text-align: left;
    position: relative;
    margin: auto;
    width: 1300px;
}
.cent_c {
    text-align: left;
    position: relative;
    margin: auto;
    width: 1000px;
}
.gwd-label-p0hn {
    position: absolute;
    width: 2px;
    height: 1px;
    left: 61px;
    top: 30px;
}
.gwd-select-1f3m {
    left: 25%;
    top: 2%;
    height: 40%;
    width: 10%;
}
.column {
    float: left;
    height: 680px;
    width: 400px;
    text-align: center;
}
.column_1 {
    width: 800px;
    height: 680px;
    float: right;
    text-align: center;
}
.row {
    height: 170px;
    content: "";
    clear: both;
}</style>
  <script type="text/javascript" gwd-events="support" src="gwd-events-support.1.0.js"></script>
  <script type="text/javascript" gwd-events="handlers">
    window.gwd = window.gwd || {};
    var sort_update;
    var update_history;
    var move_history
    var active_window = 0;
    var H_offset = 0;
    gwd.about = function(event) {
      var x = document.getElementById("cent_c");
      x.style.display = "none";
      x = document.getElementById("canvas_area_1");
      x.style.display = "none";
      x = document.getElementById("about");
      canvas_area_1
      x.style.display = "block";
      active_window = 2;
    };
    gwd.current = function(event) {
      // current data
      var x = document.getElementById("cent_c");
      x.style.display = "block";
      x = document.getElementById("canvas_area_1");
      x.style.display = "none";
      x = document.getElementById("about");
      x.style.display = "none";
      active_window = 0;
      sort_update();
    };
    gwd.history = function(event) {
      // show history
      x = document.getElementById("cent_c");
      x.style.display = "none";
      x = document.getElementById("canvas_area_1");
      x.style.display = "block";
      x = document.getElementById("about");
      x.style.display = "none";
      active_window = 1;
      sort_update();
    };
    gwd.duration_change = function(event) {
      // update graph
      sel = document.getElementById("mySelect").selectedIndex
      update_history();
    };
    gwd.c_b_click = function(event) {
      // click
      H_offset += 1;
      H_offset = H_offset % 5;
      move_history();
    };
    gwd.c_c_click = function(event) {
      //click
      H_offset += 2;
      H_offset = H_offset % 5;
      move_history();
    };
    gwd.c_d_click = function(event) {
      //click
      H_offset += 3;
      H_offset = H_offset % 5;
      move_history();
    };
    gwd.c_e_click = function(event) {
      //click
      H_offset += 4;
      H_offset = H_offset % 5;
      move_history();
    };
  </script>
  <script type="text/javascript" gwd-events="registration">
    // Support code for event handling in Google Web Designer
     // This script block is auto-generated. Please do not edit!
    gwd.actions.events.registerEventHandlers = function(event) {
      gwd.actions.events.addHandler('Btn_4', 'click', gwd.about, false);
      gwd.actions.events.addHandler('Btn_1', 'click', gwd.current, false);
      gwd.actions.events.addHandler('Btn_2', 'click', gwd.history, false);
      gwd.actions.events.addHandler('duration', 'change', gwd.duration_change, false);
      gwd.actions.events.addHandler('canvas_b', 'click', gwd.c_b_click, false);
      gwd.actions.events.addHandler('canvas_c', 'click', gwd.c_c_click, false);
      gwd.actions.events.addHandler('canvas_d', 'click', gwd.c_d_click, false);
      gwd.actions.events.addHandler('canvas_e', 'click', gwd.c_e_click, false);
    };
    gwd.actions.events.deregisterEventHandlers = function(event) {
      gwd.actions.events.removeHandler('Btn_4', 'click', gwd.about, false);
      gwd.actions.events.removeHandler('Btn_1', 'click', gwd.current, false);
      gwd.actions.events.removeHandler('Btn_2', 'click', gwd.history, false);
      gwd.actions.events.removeHandler('duration', 'change', gwd.duration_change, false);
      gwd.actions.events.removeHandler('canvas_b', 'click', gwd.c_b_click, false);
      gwd.actions.events.removeHandler('canvas_c', 'click', gwd.c_c_click, false);
      gwd.actions.events.removeHandler('canvas_d', 'click', gwd.c_d_click, false);
      gwd.actions.events.removeHandler('canvas_e', 'click', gwd.c_e_click, false);
    };
    document.addEventListener("DOMContentLoaded", gwd.actions.events.registerEventHandlers);
    document.addEventListener("unload", gwd.actions.events.deregisterEventHandlers);
  </script>
</head>

<body class="htmlNoPages">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
  <script type="text/javascript">
    window.onload = function() {
      var t_col = "#F07C60";
      var h_col = "#8CC8E8";
      var r_col = "#A3CDA8";
      var p_col = "#BDBBB3";
      var w_col = "#AD9CF3";
      var peak_col = "#ff0000";
      var sel = 0;
      var PI = 3.1416;
      var rad = 57.2958;
      var c = document.getElementById("canvas");
      var dia = 80;
      var dia_small = 70;
      var chart = [document.getElementById('canvas_a').getContext('2d'),
        document.getElementById('canvas_b').getContext('2d'),
        document.getElementById('canvas_c').getContext('2d'),
        document.getElementById('canvas_d').getContext('2d'),
        document.getElementById('canvas_e').getContext('2d')
      ];
      //   var H_chart = [new Chart(chart[0]), new Chart(chart[1]), new Chart(chart[2]), new Chart(chart[3]), new Chart(chart[4])];
      var titles = ['Temperature', 'Humidity', 'Pressure', 'Wind Speed', 'Rain Fall'];
      var plot = ['Min', 'Max', 'Min', 'Max', 'Min', 'Max', 'Mean', 'Gust', 'Total', 'Last Hour'];
      var axis_x_label = ['Minutes', 'Hours', 'Day of Week', 'Day of Month', 'Week of Year'];
      var axis_y_label = ['C', '', '%', '', 'mB', '', 'mph', '', 'mm', ' '];

      const dat = [
        [0, 3, 0, 2, 0, 1, 0, 6, 0, 3, 0, 2, 0, 1, 0, 6, 0, 3, 0, 2, 0, 1, 0, 6, 0],
        [1, 3, 0, 2, 0, 0, 0, 6, 0, 3, 0, 4, 0, 1, 0, 6, 0, 3, 0, 2, 0, 1, 4, 6, 4],
        [0, 3, 0, 2, 2, 1, 0, 6, 0, 3, 0, 2, 0, 4, 0, 6, 0, 3, 0, 2, 0, 1, 0, 6, 0],
        [0, 3, 3, 2, 0, 1, 0, 6, 6, 3, 0, 2, 0, 1, 0, 6, 0, 3, 0, 2, 0, 1, 0, 6, 0],
        [0, 3, 0, 2, 0, 1, 0, 6, 0, 3, 0, 2, 4, 1, 0, 6, 0, 3, 0, 2, 4, 1, 0, 6, 0]
      ];
      const s_label = ["12", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"];

      function draw_dial(loc, win) {
        var x1, y1;
        var ident;
        var scale = 5,
          start = -20;
        var text = "";
        win.textAlign = "center";
        win.fillStyle = "Black";
        win.font = "14px Arial";
        switch (loc) {
          case 0:
            x1 = 166;
            y1 = 133;
            ident = 13;
            scale = 5;
            start = -20;
            text = "Outside Temperature ( C )";
            break;
          case 1:
            x1 = 832;
            y1 = 133;
            ident = 13;
            scale = 5;
            start = -20;
            text = "Inside Temperature ( C )";
            break;
          case 2:
            x1 = 166;
            y1 = 383;
            ident = 11;
            scale = 10;
            start = 0;
            text = "Outside Humidity ( % )";
            break;
          case 3:
            x1 = 832;
            y1 = 383;
            ident = 11;
            scale = 10;
            start = 0;
            text = "Inside Humidity ( % )";
            break;
          case 4:
            x1 = 500;
            y1 = 133;
            ident = 11;
            scale = 20;
            start = 860;

            text = "Air Pressure ( mb )";
            break;
          case 5:
            x1 = 166;
            y1 = 633;
            ident = 11;
            scale = 5;
            start = 0;
            text = "Wind Speed ( mph )";
            break;
        }
        var step = 240 / (ident - 1);
        var offset = dia * 0.707;
        win.beginPath();
        win.arc(x1, y1, dia, 0.75 * PI, 0.25 * PI);
        win.stroke();
        win.beginPath();
        win.moveTo(x1 - offset, y1 + offset);
        win.lineTo(x1 + offset, y1 + offset);
        win.stroke();
        var val;
        for (var i = 0; i < ident; i++) {
          var x2, y2, x3, y3;
          var ang = (-30 + (step * i)) / rad;
          y2 = y1 - ((dia + 2) * Math.sin(ang));
          y3 = y1 - ((dia + 10) * Math.sin(ang));
          x2 = x1 - ((dia + 2) * Math.cos(ang));
          x3 = x1 - ((dia + 10) * Math.cos(ang));
          win.beginPath();
          win.moveTo(x2, y2);
          win.lineTo(x3, y3);
          win.stroke();
          val = (i * scale) + start;
          y2 = y1 + 5 - ((dia + 25) * Math.sin(ang));
          x2 = x1 - ((dia + 25) * Math.cos(ang));


          win.fillText(val.toString(), x2, y2);

        }

        win.fillText(text, x1, y1 + 80);
      }


      function draw_bearing(x, y, win) {
        var ident = 8;
        var direction = ["N", "NE", "E", "SE", "S", "SW", "W", "NW"];
        win.beginPath();
        win.arc(x, y, dia_small, 0, 2 * PI);
        win.stroke();
        win.beginPath();
        win.textAlign = "center";
        win.fillStyle = "Black";
        win.font = "14px Arial";
        var step = 360 / ident;
        for (var i = 0; i < ident; i++) {
          var x2, y2, x3, y3;
          var ang = (90 + (step * i)) / rad;
          y2 = y - ((dia_small + 2) * Math.sin(ang));
          y3 = y - ((dia_small + 10) * Math.sin(ang));
          x2 = ((dia_small + 2) * Math.cos(ang)) + x;
          x3 = ((dia_small + 10) * Math.cos(ang)) + x;
          win.beginPath();
          win.moveTo(x2, y2);
          win.lineTo(x3, y3);
          win.stroke();

          val = (i * 30);
          y2 = y + 5 - ((dia_small + 25) * Math.sin(ang));
          x2 = x - ((dia_small + 25) * Math.cos(ang));
          win.fillText(direction[i], x2, y2);
        }

        text = "Wind Bearing ( mph )";
        win.fillText(text, x, y + 120);
      }

      function data_plot(x, y, win) {
        var delta;
        var dia1 = 80;
        var x1, y1;
        var peak = false;
        switch (x) {
          case 0:
            delta = (1.1667 - (((20 + y) / 90) * 2)) * PI;
            x1 = 166;
            y1 = 133;
            break;
          case 1:
            delta = (1.1667 - (((20 + y) / 90) * 2)) * PI;
            x1 = 832;
            y1 = 133;
            break;
          case 2:
            delta = (1.1667 - ((y / 150) * 2)) * PI;
            x1 = 166;
            y1 = 383;
            break;
          case 3:
            delta = (1.1667 - ((y / 150) * 2)) * PI;
            x1 = 832;
            y1 = 383;
            break;
          case 4:
            delta = (1.1667 - (((y - 860) / 300) * 2)) * PI;
            x1 = 500;
            y1 = 133;
            break;
          case 5:
            delta = (1.1667 - ((y / 75) * 2)) * PI;
            x1 = 166;
            y1 = 633;
            break;
          case 6:
            delta = (0.5 - ((y / 360) * 2)) * PI;
            x1 = 832;
            y1 = 620;
            dia1 = 70;
            break;
          case 7:
            delta = (1.1667 - ((y / 75) * 2)) * PI;
            x1 = 166;
            y1 = 633;
            peak = true;
            break;
        }
        var x2, y2, x3, y3, x4, y4;
        if (peak) {
          y2 = y1 - ((dia1 - 10) * Math.sin(delta + 0.075));
          y3 = y1 - (dia1 * Math.sin(delta));
          y4 = y1 - ((dia1 - 10) * Math.sin(delta - 0.075));
          x2 = ((dia1 - 10) * Math.cos(delta + 0.075)) + x1;
          x3 = (dia1 * Math.cos(delta)) + x1;
          x4 = ((dia1 - 10) * Math.cos(delta - 0.075)) + x1;

          win.beginPath();
          win.fillStyle = peak_col;
          win.moveTo(x2, y2);
          win.lineTo(x3, y3);
          win.lineTo(x4, y4);
          win.lineTo(x2, y2);
          win.fill();

          win.fillText(y, x1, y1 + 50);


        } else {

          y2 = y1 - ((dia1 - 10) * Math.sin(delta + 0.075));
          y3 = y1 - (dia1 * Math.sin(delta));
          y4 = y1 - ((dia1 - 10) * Math.sin(delta - 0.075));
          x2 = ((dia1 - 10) * Math.cos(delta + 0.075)) + x1;
          x3 = (dia1 * Math.cos(delta)) + x1;
          x4 = ((dia1 - 10) * Math.cos(delta - 0.075)) + x1;

          win.beginPath();
          win.moveTo(x2, y2);
          win.lineTo(x3, y3);
          win.lineTo(x4, y4);
          win.lineTo(x2, y2);
          win.fill();
          if (x != 6) win.fillText(y, x1, y1 + 30);
        }
      }

      function draw_rain(win) {
        win.rect(449, 280, 52, 152);
        win.rect(501, 280, 52, 152);
        win.stroke();
        win.beginPath();
        win.textAlign = "center";
        win.fillStyle = "Black";
        win.font = "14px Arial";
        win.fillText(" now ", 360, 355);
        win.fillText("this", 630, 355);
        win.fillText(" hr ", 630, 370);
        win.fillText("Rain Fall ( mm/h )", 500, 463);
      }

      function rain_plot(now, total, win) {
        now /= 2.5;
        total /= 150;
        var n_scale = Math.ceil(now + 0.5);
        var t_scale = Math.ceil(total + 0.5);
        var n_s = 145 * (now / n_scale);
        var n_t = 145 * (total / t_scale);
        var n_ticks;
        if (n_scale < 2) {
          n_ticks = 0.2;
          ticks = 152 / Math.floor(n_scale / 0.2);
        } else
        if (n_scale < 5) {
          n_ticks = 0.5;
          ticks = 152 / Math.floor(n_scale / 0.5);
        } else
        if (n_scale < 20) {
          n_ticks = 2;
          ticks = 152 / Math.floor(n_scale / 2);
        } else {
          n_ticks = 5;
          ticks = 152 / Math.floor(n_scale / 5);
        }
        var s = 0;
        var num = s.toFixed(1);
        var y = 432;
        do {
          win.beginPath();
          win.moveTo(444, y);
          win.lineTo(449, y);
          win.stroke();
          win.fillText(num, 415, y + 5);
          y -= ticks;
          s += n_ticks;
          num = s.toFixed(1);
        } while (s <= n_scale);

        if (t_scale < 2) {
          n_ticks = 0.2;
          ticks = 152 / Math.floor(t_scale / 0.2);
        } else
        if (t_scale < 5) {
          n_ticks = 0.5;
          ticks = 152 / Math.floor(t_scale / 0.5);
        } else
        if (t_scale < 20) {
          n_ticks = 2;
          ticks = 152 / Math.floor(t_scale / 2);
        } else {
          n_ticks = 5;
          ticks = 152 / Math.floor(t_scale / 5);
        }
        s = 0;
        num = s.toFixed(1);
        var y = 432;
        do {
          win.beginPath();
          win.moveTo(553, y);
          win.lineTo(558, y);
          win.stroke();
          win.fillText(num, 580, y + 5);
          y -= ticks;
          s += n_ticks;
          num = s.toFixed(1);
        } while (s <= t_scale);
        win.beginPath();
        win.fillStyle = h_col;
        win.rect(450, 432 - n_s, 50, n_s);
        win.fill();
        win.beginPath();
        win.fillStyle = "Blue";
        win.rect(502, 432 - n_t, 50, n_t);
        win.fill();
      }

      function drawHand(win, pos, length, width) {
        win.beginPath();
        win.lineWidth = width;
        win.lineCap = "round";
        win.moveTo(500, 633);
        var x = Math.sin(pos / rad) * length;
        var y = Math.cos(pos / rad) * length;
        win.lineTo(500 + x, 633 - y);
        win.stroke();
      }

      function clock(win) {
        var step = 30;
        var cc = 633;
        win.beginPath();
        win.arc(500, cc, dia, 0, 2 * PI);
        win.stroke();
        for (var i = 1; i <= 12; i++) {
          var x2, y2, x3, y3;
          var ang = (90 + (step * i)) / rad;
          y2 = cc - ((dia) * Math.sin(ang));
          y3 = cc - ((dia - 5) * Math.sin(ang));
          x2 = ((dia) * Math.cos(ang)) + 500;
          x3 = ((dia - 5) * Math.cos(ang)) + 500;
          win.beginPath();
          win.moveTo(x2, y2);
          win.lineTo(x3, y3);
          win.stroke();

          val = (i * 30);
          y2 = cc + 5 - ((dia + 10) * Math.sin(ang));
          x2 = 500 - ((dia + 10) * Math.cos(ang));
          win.fillText(i, x2, y2);
        }
        var d, h, m;
        d = new Date();
        h = d.getHours();
        m = d.getMinutes();
        h = h % 12;
        //hour
        h = ((h / 12) * 360) + ((m / 60) * 30);
        drawHand(win, h, dia * 0.5, 4);
        //minute
        m = (m / 60) * 360;
        drawHand(win, m, dia * 0.8, 2);
        win.lineWidth = 1;
      }

      function update_fields() {
        var xhr = new XMLHttpRequest();
        var a = '0';
        var url = "https://script.google.com/macros/s/AKfycbzep_6TONHLbfjt1H23_iCb0DMc126LPo3smsun/exec?read=current";
        xhr.onreadystatechange = function() {
          if (xhr.readyState == 4) {
            var t_r = xhr.responseText;
            var dat = t_r.split(",");
            var x = document.getElementById("cent_c");
            x.style.display = "block";
            x = document.getElementById("canvas_area_1");
            x.style.display = "none";
            x = document.getElementById("about");
            x.style.display = "none";
            var ctx = c.getContext("2d");
            ctx.fillStyle = t_col;
            ctx.fillRect(0, 0, 333, 250);
            ctx.fillRect(666, 0, 333, 250);
            ctx.fillStyle = h_col;
            ctx.fillRect(0, 250, 333, 250);
            ctx.fillRect(666, 250, 333, 250);
            ctx.fillStyle = p_col;
            ctx.fillRect(333, 0, 333, 250);
            ctx.fillStyle = r_col;
            ctx.fillRect(333, 250, 333, 250);
            ctx.fillStyle = w_col;
            ctx.fillRect(0, 500, 333, 250);
            ctx.fillRect(666, 500, 333, 250);
            ctx.fillStyle = p_col;
            ctx.fillRect(333, 500, 333, 250);
            draw_dial(0, ctx);
            draw_dial(1, ctx);
            draw_dial(2, ctx);
            draw_dial(3, ctx);
            draw_dial(4, ctx);
            draw_dial(5, ctx);
            draw_bearing(832, 620, ctx);
            draw_rain(ctx);

            clock(ctx);

            ctx.fillStyle = "Black";
            data_plot(0, parseFloat(dat[0]), ctx);
            data_plot(1, parseFloat(dat[18]), ctx);
            if (parseFloat(dat[3]) > 100)
              data_plot(2, parseFloat("100"), ctx);
            else
              data_plot(2, parseFloat(dat[3]), ctx);
            if (parseFloat(dat[21]) > 100)
              data_plot(3, parseFloat("100"), ctx);
            else
              data_plot(3, parseFloat(dat[21]), ctx);
            data_plot(4, parseFloat(dat[24]), ctx);
            data_plot(5, parseFloat("10"), ctx);
            data_plot(6, parseFloat("90"), ctx);
            data_plot(7, parseFloat("15"), ctx);
            rain_plot(parseFloat(dat[15]), parseFloat(dat[16]), ctx);

            clock(ctx);
          }
        };
        xhr.open("GET", url);
        xhr.send(null);
      }
      function draw_graph( num )
      {
        var ctx = chart[num];
        
        var x = 20;
        var y = 20;
        var w = 360;
        var h = 130;
        if(num === 0){
          w = 760;
          h = 640;
        }
        ;
        ctx.strokeStyle = "grey";
        ctx.rect(x, y, w, h);
        ctx.stroke(); 
        var xl = x;
        var xs = w/24;
        var c_b = y+h;
        ctx.beginPath();
        do{
          xl+=xs;
        ctx.moveTo(xl,y);
        ctx.lineTo(xl,c_b); 
        }while (xl<w+x-1);
       ctx.stroke(); 
      }

      function build_history() {
        var h_c = 0;
        do{
           draw_graph( h_c );
          h_c++;
        }while (h_c < 5);
        var temp = 0;
        temp = dat[0, 0];
        

        <!-- H_chart[0] = new Chart(chart[0], { -->
        <!-- type: 'line', -->
        <!-- data: { -->
        <!-- labels: s_label, -->
        <!-- datasets: [{ -->
        <!-- label: "Outside", -->
        <!-- borderColor: "#3e95cd", -->
        <!-- fill: false, -->
        <!-- data: temp -->
        <!-- }] -->
        <!-- }, -->
        <!-- options: { -->
        <!-- title: { -->
        <!-- display: true, -->
        <!-- text: 'Temperature' -->
        <!-- }, -->
        <!-- animation: { -->
        <!-- duration: 0, -->
        <!-- hover: { -->
        <!-- animationDuration: 0, -->
        <!-- }, -->
        <!-- responsiveAnimationDuration: 0, -->
        <!-- } -->
        <!-- } -->
        <!-- });       -->
        <!-- H_chart[0].update(); -->


        <!-- temp = dat[1,0]; -->
        <!-- H_chart[1] = new Chart(chart[1], { -->
        <!-- type: 'line', -->
        <!-- data: { -->
        <!-- labels: s_label, -->
        <!-- datasets: [{ -->
        <!-- label: "Outside", -->
        <!-- borderColor: "#3e95cd", -->
        <!-- fill: false, -->
        <!-- data: temp -->
        <!-- }] -->
        <!-- }, -->
        <!-- options: { -->
        <!-- title: { -->
        <!-- display: true, -->
        <!-- text: 'Humidity' -->
        <!-- }, -->
        <!-- animation: { -->
        <!-- duration: 0, -->
        <!-- hover: { -->
        <!-- animationDuration: 0, -->
        <!-- }, -->
        <!-- responsiveAnimationDuration: 0, -->
        <!-- } -->
        <!-- } -->
        <!-- });       -->
        <!-- H_chart[1].update(); -->

        <!-- temp = dat[2,0]; -->

        <!-- H_chart[2] = new Chart(chart[2], { -->
        <!-- type: 'line', -->
        <!-- data: { -->
        <!-- labels: s_label, -->
        <!-- datasets: [{ -->
        <!-- label: "Outside", -->
        <!-- borderColor: "#3e95cd", -->
        <!-- fill: false, -->
        <!-- data: temp -->
        <!-- }] -->
        <!-- }, -->
        <!-- options: { -->
        <!-- title: { -->
        <!-- display: true, -->
        <!-- text: 'Pressure' -->
        <!-- }, -->
        <!-- animation: { -->
        <!-- duration: 0, -->
        <!-- hover: { -->
        <!-- animationDuration: 0, -->
        <!-- }, -->
        <!-- responsiveAnimationDuration: 0, -->
        <!-- } -->
        <!-- } -->
        <!-- });       -->
        <!-- H_chart[2].update(); -->

        <!-- temp = dat[3,0]; -->
        <!-- H_chart[3] = new Chart(chart[3], { -->
        <!-- type: 'line', -->
        <!-- data: { -->
        <!-- labels: s_label, -->
        <!-- datasets: [{ -->
        <!-- label: "Outside", -->
        <!-- borderColor: "#3e95cd", -->
        <!-- fill: false, -->
        <!-- data: temp -->
        <!-- }] -->
        <!-- }, -->
        <!-- options: { -->
        <!-- title: { -->
        <!-- display: true, -->
        <!-- text: 'Rain' -->
        <!-- }, -->
        <!-- animation: { -->
        <!-- duration: 0, -->
        <!-- hover: { -->
        <!-- animationDuration: 0, -->
        <!-- }, -->
        <!-- responsiveAnimationDuration: 0, -->
        <!-- } -->
        <!-- } -->
        <!-- });         -->
        <!-- H_chart[3].update(); -->

        <!-- temp = dat[4,0]; -->
        <!-- H_chart[4] = new Chart(chart[4], { -->
        <!-- type: 'line', -->
        <!-- data: { -->
        <!-- labels: s_label, -->
        <!-- datasets: [{ -->
        <!-- label: "Outside", -->
        <!-- borderColor: "#3e95cd", -->
        <!-- fill: false, -->
        <!-- data: temp -->
        <!-- }] -->
        <!-- }, -->
        <!-- options: { -->
        <!-- title: { -->
        <!-- display: true, -->
        <!-- text: 'Wind' -->
        <!-- }, -->
        <!-- animation: { -->
        <!-- duration: 0, -->
        <!-- hover: { -->
        <!-- animationDuration: 0, -->
        <!-- }, -->
        <!-- responsiveAnimationDuration: 0, -->
        <!-- } -->
        <!-- } -->
        <!-- });         -->
        <!-- H_chart[4].update(); -->





      }

      function fill_chart(c_num) {
        var x = H_offset + c_num;
        x = x % 5;
        //   H_chart[c_num].options.title.text = titles[x];
        //   H_chart[c_num].data.datasets[0].label = plot[x];

        //    H_chart[c_num].data.datasets[0].data = dat;
        //     H_chart[c_num].data.labels = s_label;

        //    H_chart[c_num].update();
      }

      move_history = function() {
        var x = H_offset;
        var i = 0;
        do {
          x = x % 5;
          //     H_chart[i].options.title.text = titles[H_offset];
          //     H_chart[i].data.datasets[0].label = plot[H_offset];

          //     var dataArray = H_chart[i].data.datasets[0].data;
          //    var dataSize = dataArray.length;
          //     var co = dat.length;          
          //     H_chart[0].data.datasets[0].data[i] = dat[i] + H_offset;
          //     H_chart[0].data.labels.push(s_label[i]);
          //     do{
          //        dat[i] = dat[i] + 10;
          //        i++;
          //    } while (i < co);
          //    H_chart[i].update();
          i++;
          x++;
        } while (i < 5)

      }

      update_history = function() {
        var len = "0";
        var xhr;
        var t_r;
        var url = "https://script.google.com/macros/s/AKfycbzep_6TONHLbfjt1H23_iCb0DMc126LPo3smsun/exec?read=" + sel.toString() + ",0";




        //   xhr = new XMLHttpRequest();
        //    xhr.onreadystatechange = function() {
        //     if (xhr.readyState == 4) {
        //       t_r = xhr.responseText;
        //     var  all_dat = t_r.split(",");

        fill_chart(0);
        fill_chart(1);
        fill_chart(2);
        fill_chart(3);
        fill_chart(4);

        //      }
        //    };
        //    xhr.open("GET", url);
        //    xhr.send(null);
      }


      sort_update = function() {
        if (active_window == 0)
          update_fields();
        if (active_window == 1) {
          update_history();
        }
      }
      var myVar = setInterval(sort_update, 10000);
      active_window = 0;
      sort_update();
      build_history();
    }
  </script>
  <div class="gwd-div-1w7a gwd-gen-19kmgwdanimation">
    <div class="menu ">
      <button class="gwd-button-39lq gwd-button-it82 gwd-gen-it1egwdanimation" id="Btn_4">About</button>
      <button class="gwd-button-39lq gwd-button-cx08 gwd-gen-9blwgwdanimation" id="Btn_3"></button>
      <button class="gwd-button-39lq gwd-button-k5iy gwd-gen-5uiygwdanimation" id="Btn_2">History</button>
      <button class="gwd-button-39lq gwd-button-11u5 gwd-gen-1ju9gwdanimation" id="Btn_1">Current</button>
    </div>
  </div>
  <div class="gwd-div-2qgl" id="Data">
    <div class="about">
      <div class="cent_c" id="cent_c">
        <canvas id="canvas" height="750" width="1000"></canvas>
      </div>
      <div class="cent" id="canvas_area_1" height="750" width="1300">
        <div>
          <label for="" duration="">History Duration</label>
          <select id="duration" height="50" width="100">
            <option value="Hour">Hour</option>
            <option value="Day">Day</option>
            <option value="Month">Month</option>
            <option value="Year">Year</option>
          </select>
        </div>
        <div class="column">
          <div class="row">
            <canvas id="canvas_b" height="170" width="400"></canvas>
          </div>
          <div class="row">
            <canvas id="canvas_c" height="170" width="400"></canvas>
          </div>
          <div class="row">
            <canvas id="canvas_d" height="170" width="400"></canvas>
          </div>
          <div class="row">
            <canvas id="canvas_e" height="170" width="400"></canvas>
          </div>
        </div>
        <div class="column_1">
          <canvas id="canvas_a" height="680" width="800"></canvas>
        </div>
      </div>
    </div>
    <div class="about" id="about">
      <div class="cent">
        <h3>Weather Station Operation</h3>
        <h4>Temperature </h4>
        <p>Sensor AM2320</p>
        <h4>Humidity </h4>
        <p>Sensor AM2320</p>
        <p></p>
        <h4>Air Pressure</h4>
        <p>Sensor BMP180</p>
        <p></p>
        <h4>Rain Fall</h4>
        <p>Count number of drips from calibrated Tube</p>
        <p></p>
        <h4>Wind Speed and Direction</h4>
        <p>Utrasonic Sensors @ N, S, E &amp; W</p>
        <p>Pulse Sensors N-S, S-N</p>
        <p>Measure Time of Flight each way to calculte N-S vector</p>
        <p>Pulse Sensors E-W, W-E</p>
        <p>Measure Time of Flight each way to calculte E-W vector</p>
        <p>Calculate Speed of Sound using Temperature and Humidity</p>
        <p>From above calculate Wind Speed and Bearing using Trig</p>
      </div>
    </div>
  </div>
  <label class="gwd-label-p0hn"></label>


</body></html>
